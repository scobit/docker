docker engine - сам установленный docker на ПК 

контейнер собирается в полностью изолированном окружении, это же касается и сетевое окружения
если мы явно не укажем как пробросить порт, то ничего не произойдёт.


DOCKER !== VM

Virtual Machines предоставляют нам hardware level virtualization в то время
как Docker Containers предоставляют operating system level virtualization.

DOKCER ПОД КАПОТОМ
Изначально Docker использовал LinuX Containers (LXC)
Сейчас Docker использует runC (известный как libcontainer)

Virtual Machine: состоит из приложения, связанных библиотек и исходного кода и
отдельной ОС. Каждая виртуальная машина получает часть ОЗУ и ЦП хост-машины.

Docker Container: получает своё собственное изолированное пространство,
которое содержит само приложение и относящийся к нему исходный код

преимущество docker
runtime isolation
Портативность
Быстрая доставка и развёртывание приложений

в docker в отличии от vm нет слоя guest OS

Docker — программное обеспечение для автоматизации развёртывания и
управления приложениями в средах с поддержкой контейнеризации

ПРОИСХОЖДЕНИЕ

Первый релиз был опубликован 13 марта 2013 года
Автор — Соломоном Хайксом (Solomon Hykes)
Соавторы — Андреа Лудзарди (Andrea Luzzardi) и Франсуа-Ксавье Бурле (FrançoisXavier Bourlet).


ОСОБЕННОСТИ
Open-source
Enterprise
Cross-platform 
Написан на Go

ОБЛАСТИ ПРИМЕНЕНИЯ
Контейнеризация Web приложений
Построение отказоустойчивых систем
Kubernetes
Тестирование Web приложений
CI/CD

ПОПУЛЯРНОСТЬ
Большие возможности
Возможность предоставить заказчику готовый продукт
Огромное комьюнити
Низкий порог входа
Малое потребление ресурсов
Используют миллионы людей во всём мире
Огромное количество готовых Docker образов

УСТАНОВКА: WINDOWS
Windows 10 64bit: Pro, Enterprise or Education (1607 Update, Build 14393 or later)
Virtualization is enabled in BIOS.
CPU SLAT-capable feature
At least 4GB of RAM.

УСТАНОВКА: MACOS
Mac hardware must be a 2010 or newer model
macOS Sierra 10.12+
VirtualBox prior to version 4.3.30+ (optional)
At least 4GB of RAM.

УСТАНОВКА: UBUNTU
Linux kernel version 3.10 or higher
512+ Mb of RAM.

ЧТО БУДЕТ УСТАНОВЛЕНО
Docker Engine (Windows, macOS, Ubuntu)
Docker CLI client (Windows, macOS, Ubuntu)
Docker Compose (Windows, macOS)
Docker Machine (Windows, macOS, Ubuntu)

Docker Engine — легковесная среда выполнения, которая управляет
образами, контейнерами, сборками образов и т.д.


Docker Daemon — демон выполняет команды которые были отправлены
клиентом docker. Сборка образов, запуск контейнеров и т.д

Dockerfile — файл с набором инструкций который используется для сборки
образов (docker image

Docker Image — файл состоящий из множества слоёв, который используется
для выполнения кода в докер контейнерах. Read-only template

Union File Systems — своего рода объединяемая (stackable) файловая
система, которая содержит файлы и каталоги разных файловых систем. Они
прозрачно накладываются друг на друга, образуя единую файловую систему

Docker Volumes — часть данных контейнеров которые ссылаются на внешние
носители. Перзистентно сохранять данные внутри контейнеров можно
только при наличии docker volumes. 

Docker Container — это стандартная единица программного обеспечения,
которая упаковывает код и все его зависимости. Контейнеры создаются на
основе docker image (образов)








для понимания сфомулируем проблему и поймём для чего он создавалася и что он делает.

1. В процессе разработки используется одна среда, а прод уже работает на другом сервере. Много времени отнимает настройка среды.

2. предоставление быстрых инструментов разработчику (БД к примеру), удобнее, быстрее и экнономнее чем виртуалка.

3. При большой структуре, экономит ресурсы. К примеру при микросервисной архитектуре из 20 приложений, нужно 20 виртуалок. 

экономия ресурсов и решение задач

аналогия с морскими контейнерами

docker - это средство (механизм) единой упаковки(сборки), доствки и запуска приложений

docker image - сборка, готовое к запуску приложение, но не запущенное

контейнер - работающее приложение созданное на базе image

на основе image можно создать множество одинаковых контейнеров

для контейнера образ является read only системой

он никаким образом не может его изменить

аналогия многослойности - ос -> окружение -> приложение

реестр image находится локально

dockerhub - реестр docker image


каждая команда в Dockerfile создаёт новый слой

у каждого слоя мы можем посчитать сумму SHA256

контейнер работает до тех пор пока работает приложение, т.к. основная задача докера это запуск-работа приложения


docker != vm

docker - это изолированный процесс, который ограничивет ресурсы

vm предоставляют нам hw вирутализацию в то время как docker container предоставляют OS lever virtualization

в vm множество процессов, контейнер - это один процесс

docker изначально использовал Linux Containers (LXC)

сейчас использует runC (известный как libcontainer)

контйнер - это процесс изолированный от процесса

vm - app + libs + os + ram and cpu from host 

container - получает совё собственное изолированные пространство, которрое содержит app 

сокращение потребления ресурсов

преимущества 
runtime isolation
vm запускет все процессы
docker запускает только те процессы необходимые приложению (экономия и безопасность)

портативность

быстрая доставка и развертывание приложений

google trends

docker удобен для тестирования

разряд must have or must know

есть 2 версии
opensource - есть веротяность что docker не запуститься на hw или os 
enterprice - сертификация под оперделённый ОС, что даёт гарантии + support 750-2000$ за один хост
cross-platform
написан на GO

применяется для 
контейнеризация приложений
построение отказоуйстойчивых систем
тестирование приложений

zero downtime - Обновление приложений без простоя

к примеру нужно обновить приложение, тогда поднимается новый с обновлением и они оба работают паралельно через балансировщик
когда мы убеждены что новый работает корректно, отключаем старый

под капотом kubernetes используется docker
kub - технология кластеризации

нет такого что не устанавливается пакет или не запускается приложение, запускается контейнер = запускается приложение.
Удобство взаимодействия с заказчиками

низкий порог входа

малое потребленипе ресурсов

огромное кол-во готовых образов

docker desktop
win 10 pro ent edu 1607 update build 14393 or later
enable virtualization in bios
cpu slat-capable feature
at leat 4 gb of ram to run 

сайт  - ngixn front api db

docker engine
docker cli client
docker compose
docker machine




